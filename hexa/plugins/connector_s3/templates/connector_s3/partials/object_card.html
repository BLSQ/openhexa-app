{% extends "partials/page_card_with_header.html" %}
{% load static i18n %}
{% load syntax %}

{% block card_header_title %}
    {{ object.filename }}
{% endblock %}

{% block card_header_image %}
    <img class="h-10 w-10 rounded-full mr-2"
         src="{% static "connector_s3/img/symbol.svg" %}"
         alt="{% translate "S3" %}"
    >
{% endblock %}

{% block card_header_description %}
    {{ object.type_display }}
{% endblock %}

{% block card_header_actions %}
    {% if object.type == 'file' %}
    <a href="{% url "connector_s3:object_download" object.bucket.pk object.key %}"
            class="relative inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
        {% include "ui/icons/download.html" %}
        {% translate "Download" %}
    </a>
    {% endif %}
{% endblock %}

{% block card_content %}
    <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2">
        <div class="sm:col-span-2">
                <dt class="text-sm font-medium text-gray-500">
                    {% translate "Object key" %}
                </dt>
                <dd class="mt-1 text-sm text-gray-900">
                    s3://{{ object.bucket.name }}/{{ object.key }}
                </dd>
        </div>
        {% if object.type == 'file' %}
        <div class="sm:col-span-1">
                <dt class="text-sm font-medium text-gray-500">
                    {% translate "File size" %}
                </dt>
                <dd class="mt-1 text-sm text-gray-900">
                    {{ object.file_size_display}}
                </dd>
        </div>
        <div class="sm:col-span-1">
                <dt class="text-sm font-medium text-gray-500">
                    {% translate "File type" %}
                </dt>
                <dd class="mt-1 text-sm text-gray-900">
                    {{ object.verbose_file_type|default:object.extension|default:"-"}}
                </dd>
        </div>
        {% else %}
        {% endif %}
    </dl>
{% endblock %}
