{% load i18n syntax %}

<div class="bg-white overflow-hidden shadow sm:rounded-lg">
    <!-- This example requires Tailwind CSS v2.0+ -->
    <div class="px-4 py-5 border-b border-gray-200 sm:px-6">
        <h2 class="text-lg leading-6 font-medium text-gray-900">
            {% trans "Usage" %}
        </h2>
    </div>
    <div class="px-4 py-5 sm:px-6">
        <h3 class="text-md leading-6 font-medium text-gray-900">
            Python
        </h3>
        <div class="bg-gray-100 p-2 mt-4 mb-8 rounded-sm text-sm" translate="no">
                {% highlight python %}
# Reading and writing to S3 using Pandas
import pandas as pd

df = pd.read_csv("s3://{{ datasource.name }}/path-in-bucket/example.csv")
df.to_csv("s3://{{ datasource.name }}/other-path-in-bucket/result.csv")


# Using S3FS to work directly with S3 resources
import s3fs, json

fs = s3fs.S3FileSystem()
with fs.open("s3://{{ datasource.name }}/path-in-bucket/example.json", "rb") as f:
print(len(json.load(f)))
                {% endhighlight %}
        </div>
        <h3 class="text-md leading-6 font-medium text-gray-900">
            R
        </h3>
        <div class="bg-gray-100 p-2 mt-4 mb-8 rounded-sm text-sm" translate="no">
                {% highlight python %}
library(aws.s3)

# Read CSV file
df <- s3read_using(
    FUN = read.csv,
    object = 's3://{{ datasource.name }}/path-in-bucket/example.csv'
)

# Write CSV file
df.out <- head(df)
s3write_using(
    x = df,
    FUN = write.csv,
    object = 's3://{{ datasource.name }}/path-in-bucket/some-output.csv'
)
                {% endhighlight %}
        </div>
    </div>
</div>
