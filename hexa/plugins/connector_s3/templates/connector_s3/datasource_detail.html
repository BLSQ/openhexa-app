{% extends "layouts/page.html" %}
{% load embed %}
{% block page_title %}{{ datasource.display_name }}{% endblock %}


{% block page_content %}
    {{ bucket_card }}
    {% include "comments/components/page_section_comments.html" with object=datasource %}
    {% embed "ui/section/section.html" with title=_("Objects") %}
        {% slot extra_wrapper_attrs %}
            x-data="S3Upload('{% url "connector_s3:object_upload" datasource.id %}', '{{ sync_url }}')"
            x-init="init($el)"
            x-swap="objects_section"
            x-html="refreshedHtml"
        {% endslot %}
        {% slot actions %}
            {% include "connector_s3/components/upload.html" with bucket=datasource sync_url=sync_url %}
        {% endslot %}
        {% slot content %}
            {{ datagrid }}
        {% endslot %}
    {% endembed %}
{% endblock %}
