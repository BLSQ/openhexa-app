{% extends "layouts/page.html" %}
{% load embed i18n static %}
{% block page_title %}{{ datasource.display_name }}{% endblock %}

{% block page_content %}
    {% embed "catalog/components/data_header.html" with content=datasource %}
        {% slot actions %}
            <form method="post" action="{{ datasource.sync_url }}">
                {% csrf_token %}
                <button type="submit"
                        class="ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                    {% include "ui/icons/refresh.html" with mr=2 %}
                    {% translate "Sync" %}
                </button>
            </form>
        {% endslot %}
    {% endembed %}
    {% embed "ui/tabs/tabs.html" with default_tab="content" %}
        {% slot navigation %}
            {% include "ui/tabs/tab_nav_item.html" with label=_("Content") id="content" %}
            {% include "ui/tabs/tab_nav_item.html" with label=_("Details") id="details" %}
        {% endslot %}
        {% slot tabs %}
            {# Content tab #}
            {% embed "ui/tabs/tab.html" with id="content" %}
                {% slot content %}
                    {{ object_grid }}
                {% endslot %}
            {% endembed %}
            {# Metadata tab #}
            {% embed "ui/tabs/tab.html" with id="details" %}
                {% slot content %}
                    {{ bucket_card }}
                    {% include "comments/components/page_section_comments.html" with object=datasource %}
                {% endslot %}
            {% endembed %}
        {% endslot %}
    {% endembed %}
{% endblock %}
