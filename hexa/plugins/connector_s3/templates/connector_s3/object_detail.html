{% extends "layouts/page.html" %}
{% load embed %}
{% block page_title %}{{ object.display_name }}{% endblock %}

{% block page_content %}
    {{ object_card }}
    {% include "comments/components/page_section_comments.html" with object=object %}
    {% if object.type == 'directory' %}
        {% embed "ui/section/section.html" with title=_("Objects") %}
            {% slot extra_wrapper_attrs %}
                x-data="S3Upload('{% url "connector_s3:object_upload" datasource.id %}', '{{ sync_url }}', '{{ object.key }}')"
                x-init="init($el)"
                x-swap="objects_section"
                x-html="refreshedHtml"
            {% endslot %}
            {% slot actions %}
                {% include "connector_s3/components/upload.html" with bucket=datasource sync_url=sync_url %}
            {% endslot %}
            {% slot content %}
                {{ datagrid }}
            {% endslot %}
        {% endembed %}
    {% endif%}
{% endblock %}
