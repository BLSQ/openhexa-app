{% load date_utils embed i18n static %}

{% with title=data_element.hexa_or_dhis2_name subtitle=data_element.hexa_or_dhis2_description|default:_("No description") image_alt=_("DHIS2") %}
    {% url "connector_dhis2:data_element_update" data_element.instance.pk data_element.pk as update_url %}
    {% static "connector_dhis2/img/symbol.svg" as image_src %}
    {% embed "core/components/card/card.html" %}
        {% slot actions %}
{#            {% url "connector_dhis2:data_element_extract" data_element.instance.pk data_element.pk as extract_url %}#}
{#            {% include "core/components/card/heading_action.html" with label=_("Extract") url=extract_url icon="filter" color="primary" %}#}
        {% endslot %}
        {% slot content %}
            {% embed "core/components/description_list/list.html" %}
                {% slot content %}
                    {# Name #}
                    {% with key="name" value=data_element.name original_value=data_element.dhis2_name %}
                        {% include "connector_dhis2/components/description_list/item_editable.html" with term=_("Name") %}
                    {% endwith %}
                    {# Short name #}
                    {% with key="short_name" value=data_element.short_name original_value=data_element.dhis2_short_name %}
                        {% include "connector_dhis2/components/description_list/item_editable.html" with term=_("Short name") %}
                    {% endwith %}
                    {# Description #}
                    {% with key="description" value=data_element.description original_value=data_element.dhis2_description %}
                        {% include "connector_dhis2/components/description_list/item_editable.html" with term=_("Description") %}
                    {% endwith %}
                    {# Location #}
                    {% embed "core/components/description_list/item.html" with term=_("Location") %}
                        {% slot definition %}
                            {% include "core/components/description_list/item_location.html" with countries=data_element.countries %}
                        {% endslot %}
                    {% endembed %}
                    {# Tags #}
                    {% embed "core/components/description_list/item.html" with term=_("Tags") %}
                        {% slot definition %}
                            {% include "core/components/description_list/item_tags.html" with tags=data_element.tags.all %}
                        {% endslot %}
                    {% endembed %}
                    {# Last sync #}
                    {% embed "core/components/description_list/item.html" with term=_("Last synced") %}
                        {% slot definition %}
                            {{ data_element.instance.last_synced_at|date_format|default:_("Never") }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 ID #}
                    {% embed "core/components/description_list/item.html" with term=_("Id") %}
                        {% slot definition %}
                            {{ data_element.dhis2_id }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 Code #}
                    {% embed "core/components/description_list/item.html" with term=_("Code") %}
                        {% slot definition %}
                            {{ data_element.dhis2_code }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 Domain Type #}
                    {% embed "core/components/description_list/item.html" with term=_("Domain Type") %}
                        {% slot definition %}
                            {{ data_element.get_dhis2_domain_type_display }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 Value Type #}
                    {% embed "core/components/description_list/item.html" with term=_("Value Type") %}
                        {% slot definition %}
                            {{ data_element.get_dhis2_value_type_display }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 Aggregation Type #}
                    {% embed "core/components/description_list/item.html" with term=_("Aggregation Type") %}
                        {% slot definition %}
                            {{ data_element.get_dhis2_aggregation_type_display }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 External Access #}
                    {% embed "core/components/description_list/item.html" with term=_("External Access") %}
                        {% slot definition %}
                            {{ data_element.dhis2_external_access|yesno:_("Yes,No") }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 Favorite #}
                    {% embed "core/components/description_list/item.html" with term=_("Favorite") span=2 %}
                        {% slot definition %}
                            {{ data_element.dhis2_favorite|yesno:_("Yes,No") }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 Created #}
                    {% embed "core/components/description_list/item.html" with term=_("Creation date") %}
                        {% slot definition %}
                            {{ data_element.dhis2_created|date_format }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 Last Updated #}
                    {% embed "core/components/description_list/item.html" with term=_("Last Updated") %}
                        {% slot definition %}
                            {{ data_element.dhis2_last_updated|date_format }}
                        {% endslot %}
                    {% endembed %}
                {% endslot %}
            {% endembed %}
        {% endslot %}
    {% endembed %}
{% endwith %}
