{% load date_utils embed i18n static %}

{% with title=indicator.hexa_or_dhis2_name subtitle=indicator.hexa_or_dhis2_description|default:_("No description") image_alt=_("DHIS2") %}
    {% url "connector_dhis2:indicator_update" indicator.instance.pk indicator.pk as update_url %}
    {% static "connector_dhis2/img/symbol.svg" as image_src %}
    {% embed "core/components/card/card.html" %}
        {% slot actions %}
            {% include "core/components/card/heading_action.html" with label=_("Extract") icon="filter" color="primary" %}
        {% endslot %}
        {% slot content %}
            {% embed "core/components/description_list/list.html" %}
                {% slot content %}
                    {# Name #}
                    {% with key="name" value=indicator.name original_value=indicator.dhis2_name %}
                        {% include "connector_dhis2/components/description_list/item_editable.html" with term=_("Name") %}
                    {% endwith %}
                    {# Short name #}
                    {% with key="short_name" value=indicator.short_name original_value=indicator.dhis2_short_name %}
                        {% include "connector_dhis2/components/description_list/item_editable.html" with term=_("Short name") %}
                    {% endwith %}
                    {# Description #}
                    {% with key="description" value=indicator.description original_value=indicator.dhis2_description %}
                        {% include "connector_dhis2/components/description_list/item_editable.html" with term=_("Description") %}
                    {% endwith %}
                    {# Location #}
                    {% embed "core/components/description_list/item.html" with term=_("Location") %}
                        {% slot definition %}
                            {% include "core/components/description_list/item_location.html" with countries=indicator.countries %}
                        {% endslot %}
                    {% endembed %}
                    {# Tags #}
                    {% embed "core/components/description_list/item.html" with term=_("Tags") %}
                        {% slot definition %}
                            {% include "core/components/description_list/item_tags.html" with tags=indicator.tags %}
                        {% endslot %}
                    {% endembed %}
                    {# Last sync #}
                    {% embed "core/components/description_list/item.html" with term=_("Last synced") %}
                        {% slot definition %}
                            {{ indicator.instance.last_synced_at|date_format|default:_("Never") }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 ID #}
                    {% embed "core/components/description_list/item.html" with term=_("Id") %}
                        {% slot definition %}
                            {{ indicator.dhis2_id }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 Code #}
                    {% embed "core/components/description_list/item.html" with term=_("Code") %}
                        {% slot definition %}
                            {{ indicator.dhis2_code }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 Domain Type #}
                    {% embed "core/components/description_list/item.html" with term=_("Indicator type") %}
                        {% slot definition %}
                            {{ indicator.dhis2_indicator_type.display_name }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 Annualized #}
                    {% embed "core/components/description_list/item.html" with term=_("Annualized") %}
                        {% slot definition %}
                            {{ indicator.dhis2_annualized|yesno:_("Yes,No") }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 External Access #}
                    {% embed "core/components/description_list/item.html" with term=_("External Access") %}
                        {% slot definition %}
                            {{ indicator.dhis2_external_access|yesno:_("Yes,No") }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 Favorite #}
                    {% embed "core/components/description_list/item.html" with term=_("Favorite") %}
                        {% slot definition %}
                            {{ indicator.dhis2_favorite|yesno:_("Yes,No") }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 Created #}
                    {% embed "core/components/description_list/item.html" with term=_("Creation date") %}
                        {% slot definition %}
                            {{ indicator.dhis2_created|date_format }}
                        {% endslot %}
                    {% endembed %}
                    {# DHIS2 Last Updated #}
                    {% embed "core/components/description_list/item.html" with term=_("Last Updated") %}
                        {% slot definition %}
                            {{ indicator.dhis2_last_updated|date_format }}
                        {% endslot %}
                    {% endembed %}
                {% endslot %}
            {% endembed %}
        {% endslot %}
    {% endembed %}
{% endwith %}