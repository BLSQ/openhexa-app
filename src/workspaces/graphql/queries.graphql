query WorkspacesPage($page: Int, $perPage: Int) {
  workspaces(page: $page, perPage: $perPage) {
    totalItems
    items {
      slug
      name
      countries {
        code
        flag
      }
    }
  }
}

query WorkspacePage($slug: String!) {
  workspace(slug: $slug) {
    slug
    name
    description
    countries {
      code
      flag
      name
    }
    permissions {
      delete
      update
      manageMembers
    }
    ...DeleteWorkspace_workspace
    ...InviteMemberWorkspace_workspace
    ...UpdateWorkspaceDescription_workspace
  }
}

query WorkspacePipelinesPage($workspaceSlug: String!) {
  workspace(slug: $workspaceSlug) {
    slug
    name
  }
}

query WorkspacePipelinePage($workspaceSlug: String!) {
  workspace(slug: $workspaceSlug) {
    slug
    name
  }
}

query WorkspacePipelineStartPage($workspaceSlug: String!) {
  workspace(slug: $workspaceSlug) {
    slug
    name
  }
}
query WorkspacePipelineRunPage($workspaceSlug: String!) {
  workspace(slug: $workspaceSlug) {
    slug
    name
  }
}

query WorkspaceFilesPage($workspaceSlug: String!) {
  workspace(slug: $workspaceSlug) {
    slug
    name
  }
}

query WorkspaceDatabasesPage($workspaceSlug: String!,$page: Int, $perPage: Int) {
  workspace(slug: $workspaceSlug) {
    slug
    name
    database {
      tables(page: $page, perPage: $perPage) {
        totalPages
        totalItems
        items {
          name
          count
        }
      }
    }
  }
}

query WorkspaceDatabaseTablePage($workspaceSlug: String!,$tableName: String!) {
  workspace(slug: $workspaceSlug) {
    slug
    name
    database {
      table(name: $tableName) {
        name
        count
        columns {
          name
          type
        }
      }
    }
  }
}

query ConnectionsPage($workspaceSlug: String!) {
  workspace(slug: $workspaceSlug) {
    slug
    name
    permissions {
      update
    }
    ...CreateConnectionDialog_workspace
    connections {
      id
      description
      name
      type
      slug
      updatedAt
      permissions {
        update
        delete
      }
    }
  }
}

query ConnectionPage($workspaceSlug: String!, $connectionId: UUID!) {
  workspace(slug: $workspaceSlug) {
    slug
    name
  }
  connection(id: $connectionId) {
    id
    name
    slug
    description
    type
    createdAt
    permissions {
      update
      delete
    }
    ...ConnectionUsageSnippets_connection
    ...ConnectionFieldsSection_connection
  }
}
